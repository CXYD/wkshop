{function d(){for(var a,b=0,c="",d=document.createElement("div").style,e="t,webkitT,MozT,msT,OT".split(","),f=e.length;f>b;b++)if(a=e[b]+"ransform",a in d){c=e[b].substr(0,e[b].length-1);break}return c}function e(a){var b=d();return""===b?a:(a=a.charAt(0).toUpperCase()+a.substr(1),b+a)}function f(a){null==a&&(a={}),this.element=a.sliderBox,this.index=0,this.size=a.size||3,this.step=a.step||640,this.duration=a.duration,this.thumList=a.thumbs,this.thumbType=a.thumbType||"dot",this.lazyload=void 0===a.lazyload?!1:a.lazyload,this.lazyloadStep=a.lazyloadStep||2,this.autoInterval=void 0===a.autoInterval?!0:a.autoInterval,this.imgLoadType=a.imgLoadType||"img",this.curLoadImgs=this.lazyloadStep,this.setThumb(this.index),this.autoInterval&&this.startInterval()}return f.prototype.startInterval=function(){var a=this;return this.enableTransition(),this.duration?this.intervalId=setInterval(function(){return a.next(!0)},this.duration):void 0},f.prototype.stopInterval=function(){return this.disableTransition(),this.duration?clearInterval(this.intervalId):void 0},f.prototype.enableTransition=function(){return null!=this.element&&this.element.css(e("transition"),"left 0.2s linear 0s"),this},f.prototype.disableTransition=function(){return this.element.css(e("transition"),""),this},f.prototype.translate=function(a,b){var c;return null==b&&(b=!0),c=b?a+this.currentX:a,c>0||Math.abs(c)>(this.size-1)*this.step?void 0:(null!=this.element&&this.element.css("left",c+"px"),this)},f.prototype.reset=function(){return this.moveTo(this.currentX)},f.prototype.prev=function(){return this.index=this.index-1,this.index<0&&(this.index=this.size-1),this._lazyloadInit("backward"),this.currentX=-(this.index*this.step),this.setThumb(this.index),this.moveTo(this.currentX)},f.prototype._lazyloadInit=function(a){var b=this;if(a=a||"forward",b.lazyload){var c=0,d=this.element.find(".J-slider-lazy");if("forward"==a)d.each(function(a,d){c>=b.lazyloadStep||("background"==b.imgLoadType?$(d).css({background:"url("+d.dataset.src+") no-repeat","background-size":"contain","background-position":"center"}):d.src!=d.dataset.src&&(d.src=d.dataset.src,c++),$(d).removeClass("J-slider-lazy"))});else for(var e=d.length-1;e>=0;e--){if(c>=b.lazyloadStep)return;var f=d[e];"background"==b.imgLoadType?$(f).css({background:"url("+f.dataset.src+") no-repeat","background-size":"contain","background-position":"center"}):f.src!=f.dataset.src&&(f.src=f.dataset.src,c++),$(f).removeClass("J-slider-lazy")}b.curLoadImgs+=this.lazyloadStep}},f.prototype.next=function(a){var b=this;return this.index=this.index+1,null===a&&(a=!1),this.index>=this.size&&(a?this.index=0:this.index=this.size-1),b._lazyloadInit(),this.currentX=-(this.index*this.step),this.setThumb(this.index),this.moveTo(this.currentX)},f.prototype.moveToIndex=function(a){return this.index=a,this.index>=this.size&&(this.index=0),this._lazyloadInit(),this.currentX=-(this.index*this.step),this.setThumb(this.index),this.moveTo(this.currentX)},f.prototype.moveTo=function(a){return this.slideTo=a,this.enableTransition(),this.translate(this.slideTo,!1)},f.prototype.setThumb=function(a){if(this.index=a,this.thumList){if("dot"==this.thumbType)return this.thumList.removeClass("light"),this.thumList.eq(this.index).addClass("light");if("number"==this.thumbType)return this.thumList.html(this.index+1+"/"+this.size)}},f});